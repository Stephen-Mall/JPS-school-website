<!DOCTYPE HTML>
<html lang="en">
    <head>
        <link rel="stylesheet" href="contactus.css">
        <title>Contact Us | JPS</title>
        <style>
            .navbar{
                margin-bottom: 0;
            }
            .cf-1{
                background-size: cover;
            }
            input{
                border: 2px solid transparent;
            }
            input.error{
                border: 2px solid red;
            }
            .error-msg {
                color: #fff;
            }
            .success-msg{
                color: #fff;
                text-align: center;
                margin-top: 40px;
            }
        </style>
    </head>
    <body>
        <!-- Header and navbar-->
        <div class="header">
            <h1>Jaipur Public School, Jaipur</h1>
        </div>
        <div class="navbar">
            <ul>
                <li><a href="index.html" target="_self"> Home </a></li>
                <li><a href="admission.html" target="_blank"> Admission </a></li>
                <li><a href="academics.html" target="_blank"> Academics </a></li>
                <li><a href="contactus.html" target="_blank"> Contact Us </a></li>
                <li><a href="gallery.html" target="_blank"> Gallery </a></li>
                <li style="border-right: 0px"><a href="dev-team.html" target="_blank"> Development Team </a></li>    
            </ul>
        </div>

        <div class="cf-1">
            <div class="cf-2">
                <h1>Contact Us</h1>
                <form id="mainForm">
                    <div class="half left">
                        <input type="text" id="input-name" placeholder="Name">
                        <input type="email" id="input-email" placeholder="Email address">
                        <input type="text" id="input-subject" placeholder="Regarding">
                    </div>
                    <div class="half right">
                        <textarea name="message" type="text" id="input-message" placeholder="Message"></textarea>
                    </div>  
                    <input type="submit" value="Submit" id="input-submit">
                </form>
            </div>
        </div>

        <div class="footer">
            <p>Copyright &copy; 2021 Jaipur Public School, Jaipur â€“ All rights reserved.</p>
        </div>

        <script>
            document.getElementById('mainForm').addEventListener('submit', function (e) {
                e.preventDefault();
                var name = document.getElementById('input-name'),
                    email = document.getElementById('input-email'),
                    subject = document.getElementById('input-subject'),
                    message = document.getElementById('input-message');
                
                document.querySelectorAll('input.error').forEach(function (item) {
                    item.classList.remove('error');
                });
                document.querySelectorAll('.error-msg').forEach(function (item) {
                    item.remove();
                });
                if(name.value.trim() == ''){
                    name.classList.add('error');
                    addError(name, "Please enter your name");
                }
                else if(email.value.trim() == ''){
                    email.classList.add('error');
                    addError(email, "Please enter email");
                }
                else if(subject.value.trim() == ''){
                    subject.classList.add('error');
                    addError(subject, "Please enter subject");
                }
                else if(message.value.trim() == ''){
                    message.classList.add('error');
                    addError(message, "Please enter message");
                }
                else{
                    var header = document.createElement('h2');
                    header.innerHTML = "Thankyou for reaching out to us.<br><br>We have received your message.<br>And will get back to you soon.";
                    header.classList.add("success-msg");
                    this.insertAdjacentElement('afterend', header);
                    this.remove();
                }
            });
            function addError(element, message) {
                var span = document.createElement('span');
                span.classList.add("error-msg");
                span.innerHTML = message;
                element.insertAdjacentElement('afterend', span);
            }
        </script>
    </body>
</html>